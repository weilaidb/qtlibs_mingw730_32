ip link add \1 type vrf table \2
ip link set dev \1 up

##简要查看采用-br参数
ip -br link show type vrf
##查看所有vrf，-d参数可以显示ID号
ip link show type vrf
##To list VRFs that have been created:
ip -d link show type vrf
#NOTE: The -d option is needed to show the table id
##为VRF分配接口
ip link set ens37 vrf \1
##显示被分配给vrf的设备
ip link show vrf \1
ip link show master NAME

#显示VRF的邻居条目
ip neigh show vrf green

To list neighbor entries associated with devices enslaved to a VRF device
add the master option to the ip command:
ip [-6] neigh show vrf NAME
ip [-6] neigh show master NAME

ip neigh show vrf \1
ip -6 neigh show vrf \1

显示VRF中地址
ip addr show vrf green
##To show addresses for interfaces associated with a VRF add the master option to the ip command:
ip addr show vrf NAME
ip addr show master NAME

ip addr show vrf \1
##Or in brief format:
ip -br addr show vrf \1

显示VRF路由
To show routes for a VRF use the ip command to display the table associated with the VRF device:

ip [-6] route show vrf NAME
ip [-6] route show table ID

ip route show vrf \1
ip -6 route show vrf \1

VRF的路由查询
A test route lookup can be done for a VRF:
$ ip [-6] route get vrf NAME ADDRESS
$ ip [-6] route get oif NAME ADDRESS

ip route get 10.2.1.40 vrf \1
ip -6 route get 2002:1::32 vrf \1

将网络接口从VRF中删除
ip link set dev ens37 nomaster

Network interfaces are removed from a VRF by breaking the enslavement to the VRF device:$ ip link set dev NAME nomaster

Connected routes are moved back to the default table and local entries are moved to the local table. For example:
$ ip link set dev eth0 nomaster









