https://wenku.baidu.com/view/d46fafd2172ded630b1cb6e4.html

路由器技术 
1.路由器基本概念
路由是把数据从一个网络转发到另一个网络的过程，完成这个过程的设备就是路由器
2.路由器技术的构成
通常所说的路由技术其实是由两项最基本的活动组成，即决定最优路径和传输信息单元（也称为数据包）
其中，数据包的传输和交换相对较为简单和直接，而路由的确定则更加复杂一些。
3.路由器
路由器是一种连接多个网段或网段的网络设备，它能将不同网络或网段之间的数据信息进行“翻译“，以使它们能够相互”读“懂对方的数据，从而构成一个更大的网络。
4.路由表和目的地址 
》路由表保存着目的IP地址和下一个网关地址的映射关系
》路由器中共有四种目的地址：
>与路由器在同一子网的目的主机或网段地址
>路由器中明确定义的目的主机或网络地址
>由路由器收到ICMP重定向消息所确定的目的主机或网络地址
>所有其它的目的主机或网络地址

5.路由表查找：最长匹配
eg:
Packet:Destination
IP address:10.1.1.1

R2's IP routing table
10/8->R3
10.1/16->R4  <--->Longest match, 16 bit netmask 
20/8->R5
...


6.静态路由
优点：
》对于路由器的CPU没有管理性开销
》在路由器之间没有带宽占用
》增加了安全性
缺点：
》必须真正地了解所配置的互联网络，以及每台路由器应该如何正确地连接以正确配置这些路由。
》如果某个网络加入到互联的网络中，必须在所有的路由器上（人工）添加对它的路由。
》大型网络不可行

7.静态路由配置命令
》配置静态路由用命令ip route 
router(config)#ip route [网络编号][子网掩码][转发路由器的IP地址/本地接口]

8.静态路由配置实例 
router(config)#ip route 172.16.1.0 255.255.255.0 172.16.2.1
或
router(config)#ip route 172.16.1.0 255.255.255.0 serial 0

9.默认路由
》默认路由可以转发那些在路由表中没有列出的远端目的网络的数据包到下一跳路由器。
》在存根网络上可以只使用默认路由，即那些与外界只有一个输出连接的网络。
》默认路由是一个使用通配符来代替网络和子网掩码的静态路由
》配置缺少路由用如下命令：
router(config)#ip route 0.0.0.0 0.0.0.0 [转发路由器的IP地址/本地接口]

10.默认路由器配置实例
router(config)#ip route 0.0.0.0 0.0.0.0 172.16.2.2

11.动态路由
》动态路由是指路由器能够自动地建立自己的路由表，并且能够根据实际情况的变化适时地进行调整。
》路由方法：
路由器会将自己的已知信息发给相邻路由器。最终每台路由器都会收到网络中所有路由器的信息。然后通过相应算法计算出最终路由。

12.动态路由协议的分类
》外部网关协议：在自治系统之间交换路由选择信息的互联网协议，如BGP。
》内部网关协议：在自治系统内交换路由选择信息的路由协议，常用的因特网内部网关协议有OSPF、RIP、IGRP、EIGRP。

13.路由选择协议基础
管理距离（AD)
》用来衡量接收来自相邻路由器上路由选择信息的可信度管理距离（0~255），0是最可依赖的，255则意味着不会有业务通过这个路由。
》如路由器接收到两个对于同一远程网络的更新内容，路由器首先AD。带有最低AD值的路由将会被放置在路由表中。
》AD相同，则路由协议的度量值（如跳计数或链路的带宽值）将被用做寻找到达远程网络最佳路径的依据，最低度量值的路由将被放置在路由表中。AD相同及度量相同，负载均衡（即它所发送的数据包会平分到每个链路上）。

14.默认的管理距离
》路由源 默认AD
》连接接口 0
》静态路由 1
》EIGRP    90
》IGRP     100
》OSPF     110
》RIP      120

15.路由度量
》跳数（hop count):分组从源结点到达目的结点经过的路由器的个数。
》带宽（bandwidth)--链路的传输速率。
》延时（delay)--分组从源结点到达目的结点花费的时间。
》负载(load)--通过路由器或线路的单位时间通信量。
》可靠性（reliability)--网络链路的可信度（通常指单位时间内链路的失效次数）
》开销(overhead)--传输过程中的耗费，与所使用的链路带宽相关。








