#include <QMutex>$NL$NL$NL$NLprivate:$NL   QMutex  \1; //互斥量$NL$NL$NL{$NLQMutexLocker  Locker(&\1);$NL$NL//临界代码$NL$NL\1.unlock();$NL}$NL$NL$NL$NL//获取数据$NLpublic:$NL    bool    readValue(int *seq, int *diceValue);//用于主线程读取数据的函数$NL$NL$NL$NLbool QDiceThread::readValue(int *seq, int *diceValue)$NL{$NL    if(\1.tryLock())$NL    {$NL        *seq = m_seq;$NL        *diceValue = m_diceValue;$NL        \1.unlock();$NL        return true;$NL    }$NL    return false;$NL}$NL$NL$NL$NL