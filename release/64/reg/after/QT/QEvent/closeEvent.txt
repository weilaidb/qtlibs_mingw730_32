protected:$NL    void    closeEvent(QCloseEvent *event);$NL$NL$NL$NL$NLvoid \1::closeEvent(QCloseEvent *event)$NL{//关闭窗口$NL    if (threadProducer.isRunning())$NL    {$NL        threadProducer.stopThread();$NL        threadProducer.wait();$NL    }$NL$NL    if (threadConsumer.isRunning())$NL    {$NL        threadConsumer.terminate(); //因为threadB可能处于等待状态，所以用terminate强制结束$NL        threadConsumer.wait();//$NL    }$NL    event->accept();$NL}$NL