$NL//自定义菜单$NL\1->setContextMenuPolicy(Qt::CustomContextMenu);$NLQObject::connect(\1, SIGNAL(customContextMenuRequested(QPoint)), this, SLOT(proc_customContextMenuRequested(QPoint)));$NL$NL$NL\3 = new QMenu(this);$NLnodes_menu_listwidget(\3);$NLQObject::connect(\3, SIGNAL(triggered(QAction *)), this, SLOT(proc_menu_RightMouseListWidget(QAction *)));$NL$NL$NL//自定义菜单$NLvoid \2::nodes_menu_listwidget(QMenu *pMenu)$NL{$NL    if(CExpressPub::isNullPtr(pMenu))$NL    {$NL        return;$NL    }$NL    QAction *pActionDeleteItem    = CUIPub::createAction("删除节点");$NL    QObject::connect(pActionDeleteItem, SIGNAL(triggered()), this, SLOT(proc_actionDeleteItem()));$NL    pMenu->addAction(pActionDeleteItem);$NL$NL}$NL$NL$NL//菜单右键显示$NLvoid \2::proc_customContextMenuRequested(QPoint)$NL{$NL    QCursor cur=this->cursor();$NL$NL    if(\3)$NL    {$NL        \3->exec(cur.pos()); //关联到光标$NL    }$NL$NL}$NL$NL