#!/bin/sh
#filename:gen.vlan.xml.sh
#function:生成VLAN配置的XML格式
#
#

dos2unix $0 >/dev/null 2>&1

source ./public.sh

##########
#1.规则端口的类型，比如xk
#2.规定VLAN的添加的类型范围
#3.根据VLAN的类型范围依次添加
#4.后续根据文件中解析出来对应的端口类型（扩展）
#缩略语
#xk:线卡
#bfpga:大逻辑
#cfpga:控制逻辑
#osc:光监控商品
#shell:子架级联商品
#ms:主备端口
#eth1:连接CPU的
#eth2:连接CPU的

########main proc
# 显示帮助
[ $# -lt 1 ] && usage "./eg.sh RootPath"
export ROOTPATH=$1
TYPEFILE=$ROOTPATH/type_port.txt
VLANFILE=$ROOTPATH/vlan_type.txt
XMLFILE=$ROOTPATH/vlan.xml

checkdirnoexistquit $ROOTPATH
checkfilenoexistquit $TYPEFILE
checkfilenoexistquit $VLANFILE


while read LINE
do
echo "reading $VLANFILE ..."
echo $LINE


echo "reading $VLANFILE end"
echo
done < $VLANFILE



#lsinfo .
#lsinfo ..
#lsinfo ~


#findlistall .
#findlistignore . ".git\|.sh$"
#findlistuse . .git