17.2　DOM编程基础
17.2.1　DOM概述
DOM是Document Object Model（文档对象模型）的缩写。它是由W3C（World Wide Web委员会）定义的。下面分别介绍各单词的含义。
Document（文档）：创建一个网页并将该网页添加到Web中，DOM就会根据这个网页创建一个文档对象。如果没有Document（文档），DOM也就无从谈起。
Object（对象）：对象是一种独立的数据集合。例如文档对象，即是文档中元素与内容的数据集合。与某个特定对象相关联的变量称为这个对象的属性。可以通过某个特定对象去调用的函数称为这个对象的方法。
Model（模型）：模型代表将文档对象表示为树状模型。在这个树状模型中，网页中的各个元素与内容表现为一个个相互连接的节点。
DOM是与浏览器或平台的接口，使得可以访问页面中的其他标准组件。DOM解决了JavaScript与JScript之间的冲突，给开发者定义了一个标准的方法，使他们可以访问站点中的数据、脚本和表现层对象。
1.DOM分层
文档对象模型采用的分层结构为树形结构，以树节点的方式表示文档中的各种内容。先以一个简单的HTML文档说明一下，代码如下：
＜html＞
＜head＞
＜title＞标题内容＜/title＞
＜/head＞
＜body＞
＜h3＞3号标题＜/h3＞
＜b＞加粗内容＜/b＞
＜/body＞
＜/html＞
以上文档可以使用图17.6对DOM的层次结构进行说明。


通过图17.6可以看出，在文档对象模型中，每一个对象都可以称为一个节点（Node）。下面介绍几种节点的概念。
根节点：在最顶层的＜html＞节点，称为根节点。
父节点：一个节点之上的节点是该节点的父节点（parent）。例如，＜html＞就是＜head＞和＜body＞的父节点，＜head＞就是＜title＞的父节点。
子节点：位于一个节点之下的节点就是该节点的子节点。例如，＜head＞和＜body＞就是＜html＞的子节点，＜title＞就是＜head＞的子节点。
兄弟节点：如果多个节点在同一个层次，并拥有相同的父节点，这几个节点就是兄弟节点（sibling）。例如，＜head＞和＜body＞就是兄弟节点，＜h3＞和＜b＞就是兄弟节点。
后代：一个节点的子节点的集合称为该节点的后代（descendant）。例如，＜head＞和＜body＞就是＜html＞的后代，＜h3＞和＜b＞就是＜body＞的后代。
叶子节点：在树形结构最底部的节点称为叶子节点。例如，“标题内容”、“3号标题”和“加粗内容”都是叶子节点。
在了解节点后，下面将介绍文档对象模型中节点的三种类型。
元素节点：在HTML中，＜body＞、＜p＞、＜a＞等一系列标记，是这个文档的元素节点。元素节点组成了文档对象模型的语义逻辑结构。
文本节点：包含在元素节点中的内容部分，如＜p＞标记中的文本等。一般情况下，不为空的文本节点都是可见并呈现于浏览器中的。


属性节点：元素节点的属性，如＜a＞标记的href属性与title属性等。一般情况下，大部分属性节点都隐藏在浏览器背后，并且是不可见的。属性节点总是被包含于元素节点当中。
2.DOM级别
W3C在1998年10月标准化了DOM第一级，在第一级中定义了基本的接口，其中包含所有HTML接口；在2000年11月标准化了DOM第二级，在第二级中不但对核心的接口升级，还定义了使用文档事件和CSS样式表的标准的API。Netscape的Navigator 6.0浏览器和Microsoft的Internet Explorer 5.0浏览器，都支持W3C的DOM第一级的标准。目前，Netscape、Firefox（FF火狐浏览器）等浏览器已经支持DOM第二级的标准，但Internet Explorer（IE）还不完全支持DOM第二级的标准。