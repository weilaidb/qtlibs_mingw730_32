b ::testing::internal::MakeAndRegisterTestInfo
键盘按ctrl + X + A，会进入gdb实时显示代码的模式

使用如下命令启动gdb: gdb -tui main 或者在启动gdb后, 输入命令focus或layout:

(GDB版本要求: 7.0及以上)



(gdb) b ::testing::internal::MakeAndRegisterTestInfo
Breakpoint 6 at 0x48c369
(gdb) info b 
Num     Type           Disp Enb Address            What
6       breakpoint     keep y   0x000000000048c369 <testing::internal::MakeAndRegisterTestInfo(char const*, char const*, char const*, char const*, void const*, void (*)(), void (*)(), testing::internal::TestFactoryBase*)+4>
(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /root/work/code/code/c2/40/mybuild/test 
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib64/libthread_db.so.1".

Breakpoint 6, 0x000000000048c369 in testing::internal::MakeAndRegisterTestInfo(char const*, char const*, char const*, char const*, void const*, void (*)(), void (*)(), testing::internal::TestFactoryBase*) ()
(gdb) bt
#0  0x000000000048c369 in testing::internal::MakeAndRegisterTestInfo(char const*, char const*, char const*, char const*, void const*, void (*)(), void (*)(), testing::internal::TestFactoryBase*) ()
#1  0x000000000046f5c3 in __static_initialization_and_destruction_0(int, int) ()
#2  0x000000000046f850 in _GLOBAL__sub_I__ZN40AChar_IsAVowelForSixSpecificLetters_Test10test_info_E ()
#3  0x00000000004aec1d in __libc_csu_init ()
#4  0x00007ffff7aa413e in __libc_start_main () from /lib64/libc.so.6
#5  0x000000000046dc9e in _start ()
(gdb) 












[----------] 12 tests from SoundexEncoding
[ RUN      ] SoundexEncoding.RetainsSoleLetterOfOneLetterWord
/root/work/code/code/c2/40/SoundexTest.cpp:TestBody:27
[       OK ] SoundexEncoding.RetainsSoleLetterOfOneLetterWord (0 ms)
[ RUN      ] SoundexEncoding.PadsWithZerosToEnsureThreeDigits
/root/work/code/code/c2/40/SoundexTest.cpp:TestBody:32



$ makegtest
Scanning dependencies of target test
[ 14%] Building CXX object CMakeFiles/test.dir/SoundexTest.cpp.o
[ 28%] Linking CXX executable test
[100%] Built target test
[==========] Running 26 tests from 3 test cases.
[----------] Global test environment set-up.
[----------] 9 tests from AChar
[ RUN      ] AChar.IsAVowelForSixSpecificLetters
[       OK ] AChar.IsAVowelForSixSpecificLetters (0 ms)
[ RUN      ] AChar.IsAVowelForLowercaseLetters
[       OK ] AChar.IsAVowelForLowercaseLetters (0 ms)
[ RUN      ] AChar.IsNotAVowelForAnyOtherCharacter
[       OK ] AChar.IsNotAVowelForAnyOtherCharacter (0 ms)
[ RUN      ] AChar.AnswersAppropriateUpperCaseLetter
[       OK ] AChar.AnswersAppropriateUpperCaseLetter (0 ms)
[ RUN      ] AChar.HandlesAlreadyUppercasedLetters
[       OK ] AChar.HandlesAlreadyUppercasedLetters (0 ms)
[ RUN      ] AChar.IgnoresNonLettersWhenUppercasing
[       OK ] AChar.IgnoresNonLettersWhenUppercasing (0 ms)
[ RUN      ] AChar.AnswersAppropriateLowerCaseLetter
[       OK ] AChar.AnswersAppropriateLowerCaseLetter (0 ms)
[ RUN      ] AChar.HandlesAlreadyLowercased
[       OK ] AChar.HandlesAlreadyLowercased (0 ms)
[ RUN      ] AChar.IgnoresNonLettersWhenLowercasing
[       OK ] AChar.IgnoresNonLettersWhenLowercasing (0 ms)
[----------] 9 tests from AChar (0 ms total)

[----------] 12 tests from SoundexEncoding
[ RUN      ] SoundexEncoding.RetainsSoleLetterOfOneLetterWord
/root/work/code/code/c2/40/SoundexTest.cpp:TestBody:27
[       OK ] SoundexEncoding.RetainsSoleLetterOfOneLetterWord (0 ms)
[ RUN      ] SoundexEncoding.PadsWithZerosToEnsureThreeDigits
/root/work/code/code/c2/40/SoundexTest.cpp:TestBody:32
[       OK ] SoundexEncoding.PadsWithZerosToEnsureThreeDigits (1 ms)
[ RUN      ] SoundexEncoding.ReplacesConsonantsWithAppropriateDigits
[       OK ] SoundexEncoding.ReplacesConsonantsWithAppropriateDigits (0 ms)
[ RUN      ] SoundexEncoding.IgnoresNonAlphabetics
[       OK ] SoundexEncoding.IgnoresNonAlphabetics (0 ms)
[ RUN      ] SoundexEncoding.ReplacesMultipleConsonantsWithDigits
[       OK ] SoundexEncoding.ReplacesMultipleConsonantsWithDigits (0 ms)
[ RUN      ] SoundexEncoding.LimitsLengthToFourCharacters
[       OK ] SoundexEncoding.LimitsLengthToFourCharacters (0 ms)
[ RUN      ] SoundexEncoding.IgnoresVowelLikeLetters
[       OK ] SoundexEncoding.IgnoresVowelLikeLetters (0 ms)
[ RUN      ] SoundexEncoding.CombinesDuplicateEncodings
[       OK ] SoundexEncoding.CombinesDuplicateEncodings (0 ms)
[ RUN      ] SoundexEncoding.UppercasesFirstLetter
[       OK ] SoundexEncoding.UppercasesFirstLetter (0 ms)
[ RUN      ] SoundexEncoding.IgnoresCaseWhenEncodingConsonants
[       OK ] SoundexEncoding.IgnoresCaseWhenEncodingConsonants (0 ms)
[ RUN      ] SoundexEncoding.CombinesDuplicateCodesWhen2ndLetterDuplicates1st
[       OK ] SoundexEncoding.CombinesDuplicateCodesWhen2ndLetterDuplicates1st (0 ms)
[ RUN      ] SoundexEncoding.DoesNotCombineDuplicateEncodingsSeparatedByVowels
[       OK ] SoundexEncoding.DoesNotCombineDuplicateEncodingsSeparatedByVowels (0 ms)
[----------] 12 tests from SoundexEncoding (1 ms total)

[----------] 5 tests from AString
[ RUN      ] AString.AnswersHeadAsItsFirstLetter
[       OK ] AString.AnswersHeadAsItsFirstLetter (0 ms)
[ RUN      ] AString.AnswersHeadAsEmptyWhenEmpty
[       OK ] AString.AnswersHeadAsEmptyWhenEmpty (0 ms)
[ RUN      ] AString.AnswersTailAsAllLettersAfterHead
[       OK ] AString.AnswersTailAsAllLettersAfterHead (0 ms)
[ RUN      ] AString.AnswersTailAsEmptyWhenEmpty
[       OK ] AString.AnswersTailAsEmptyWhenEmpty (0 ms)
[ RUN      ] AString.AnswersTailAsEmptyWhenContainsOnlyOneCharacter
[       OK ] AString.AnswersTailAsEmptyWhenContainsOnlyOneCharacter (0 ms)
[----------] 5 tests from AString (0 ms total)

[----------] Global test environment tear-down
[==========] 26 tests from 3 test cases ran. (1 ms total)
[  PASSED  ] 26 tests.
[root@weilaidb] ~/work/code/code/c2/40/mybuild