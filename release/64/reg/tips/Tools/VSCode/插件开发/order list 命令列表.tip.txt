* 查看npm配置列表
npm config ls  

* 设置镜像为淘宝
npm config set registry https://registry.npm.taobao.org/

淘宝源换新域名了

npm config set registry https://registry.npmmirror.com/
npm config set ELECTRON_MIRROR https://npmmirror.com/mirrors/electron/


* 初始化开发库
// 安装需要的包
npm install -g yo generator-code
npm install -g typescript

npm install -g fs fs-extra vscode
npm install -g vs 

下载 n 这个用于更新 node 版本的工具
sudo npm install n -g
通过 n 这个工具下载 nodejs 的最新稳定版本
sudo n stable

// 运行
yo code

*编译
F5 
Then, inside the editor, press F5. This will compile and run the extension in a new Extension Development Host window.

F5 编译并运行
Ctrl+Shift+F5 重新加载
--弹出异常，需要将extension.js打开，并位于这个文件中。

* 文件功能说明：
package.json
该文件是vscode扩展的清单文件，里面有很多字段，官方对每个字段都进行了详细阐述


*打包发布
安装 vsce(Visual Studio Code Extension)
npm i vsce -g

打包成 vsix 文件：
vsce package

tips：生成的 vsix 文件不能直接拖入安装，只能从扩展的右上角选择 Install from VSIX 安装。

发布到应用市场
注册登陆网站：登陆网站 https://dev.azure.com/vscode 获取一个 access token，用这个 token 来创建一个 publisher。

创建发布者账号： vsce create-publisher (publisher name)

登陆账号： vsce login (publisher name)

发布
vsce publish

增量发布：版本号(major.minor.patch)

vsce publish patch(minor/major)

取消发布：

vsce unpublish (publisher name).(extension name)

更新
修改版本号，重新执行 vsce publish 即可



*安装typescript
npm install -g typescript

检查是否安装成功，即看看是否有版本号 下面这个V是大写

tsc -V 

运行(编译)typescript。
其实是编译ts文件，浏览器不能直接运行ts文件，需要编译成js文件使用。在nodejs中也可以使用typescript进行编译

tsc demo.ts

*typescript 网址
https://www.tslang.cn/docs/home.html




















常见问题:
1.打包或发布报错
 ERROR  Make sure to edit the README.md file before you package or publish your extension.
vsce package Make sure to edit the README.md file before you package or publish your extension.
删除ReadMe.md

2.fs.stat代码中卡着不动，没有响应，像是死循环
没有引用头文件 
const fs = require('fs');


3.Uncaught Error Error: Cannot find module 'vscode'
卸载vscode,使用zip版本
重新yo code 试一下
重新更新yo code,生成依赖


4.修改out\extension.js 内容被覆盖
应该修改 src\extension.ts 文件， out下的是自动生成的。

5.out\extension.js 中文乱码
src\extension.ts 必须是UTF-8格式的


6.
 Node 升级工具n 安装太慢 和 报错

修改
/usr/local/bin/n
中的NODE_MIRROR为淘宝地址 https://npm.taobao.org/mirrors/node

N_NODE_MIRROR=${N_NODE_MIRROR:-${NODE_MIRROR:-https://nodejs.org/dist}} 改成

N_NODE_MIRROR=${N_NODE_MIRROR:-${NODE_MIRROR:-https://npm.taobao.org/mirrors/node}}


7.npm 删除全部依赖包
#ok
rm -rf  /usr/local/lib/node_modules


#ng
拾一九
于 2021-10-26 14:54:54 发布 25498
收藏 28
分类专栏： 报错总结 文章标签： npm node.js vue.js
版权
报错总结 专栏收录该内容
2 篇文章 0 订阅
订阅专栏
第一种办法

    删除全部依赖包 npm uninstall *
    ( 删除指定的依赖包 npm uninstall xxx
    删除全局的指定依赖 npm uninstall xxx -g
    xxx为依赖名称)
    清缓存 npm cache clean --force
    手动删除node_modules文件夹及文件夹里面的全部文件

第二种办法

    安装npm包–rimraf npm install rimraf -g
    执行命令 1rimraf node_modules


————————————————
版权声明：本文为CSDN博主「拾一九」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/DarlingYL/article/details/120972047


















