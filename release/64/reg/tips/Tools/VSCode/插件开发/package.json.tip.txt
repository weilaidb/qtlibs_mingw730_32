3.2.1 package.json

该文件是vscode扩展的清单文件，里面有很多字段，官方对每个字段都进行了详细阐述，本次我们重点阐述以下初始化后期清单文件。

json复制代码{
	"name": "demo", // 插件名
	"displayName": "插件", // 显示在应用市场的名字
	"description": "我的第一个插件测试", // 具体描述
	"version": "0.0.1", // 插件的版本号
	"engines": {
		"vscode": "^1.60.0" // 最低支持的vscode版本
	},
	"categories": [
		"Other" // 扩展类别
	],
    // 激活事件组，在那些事件情况下被激活
	"activationEvents": [
		"onCommand:demo.helloWorld"
	],
    // 插件的主入口文件
	"main": "./extension.js",
    // 贡献点
	"contributes": {
        // 命令
		"commands": [
			{
				"command": "demo.helloWorld",
				"title": "Hello World"
			}
		]
	},
	"scripts": {
		"lint": "eslint .",
		"pretest": "npm run lint",
		"test": "node ./test/runTest.js"
	},
    // 开发依赖项
	"devDependencies": {
		"@types/vscode": "^1.60.0",
		"@types/glob": "^7.1.3",
		"@types/mocha": "^8.2.2",
		"@types/node": "14.x",
		"eslint": "^7.27.0",
		"glob": "^7.1.7",
		"mocha": "^8.4.0",
		"typescript": "^4.3.2",
		"vscode-test": "^1.5.2"
	}
}



在这份清单文件中，重点关注的主要有三部分内容：activationEvents、main以及contributes，其是整个文件中的重中之重。


main


指明了该插件的主入口在哪，只有找到主入口整个项目才能正常的运转、


activationEvents


指明该插件在何种情况下才会被激活，因为只有激活后插件才能被正常使用，官网已经指明了激活的时机，这样我们就可以按需设置对应时机。（具体每个时机用的时候详细查看即可）


onLanguage 打开解析为特定语言文件时被激活，例如"onLanguage:python"
onCommand 在调用命令时被激活
onDebug 在启动调试话之前被激活

onDebugInitialConfigurations
onDebugResolve


workspaceContains 每当打开文件夹并且该文件夹包含至少一个与 glob 模式匹配的文件时
onFileSystem 每当读取来自特定方案的文件或文件夹时
onView 每当在 VS Code 侧栏中展开指定 id 的视图
onUri 每当打开该扩展的系统范围的 Uri 时
onWebviewPanel
onCustomEditor
onAuthenticationRequest
* 只要一启动vscode，插件就会被激活
onStartupFinished


contributes


通过扩展注册contributes用来扩展Visual Studio Code中的各项技能，其有多个配置，如下所示：


breakpoints 断点
colors 主题颜色
commands 命令
configuration 配置
configurationDefaults 默认的特定于语言的编辑器配置
customEditors 自定义编辑器
debuggers
grammars
iconThemes
jsonValidation
keybindings 快捷键绑定
languages
menus
problemMatchers
problemPatterns
productIconThemes
resourceLabelFormatters
snippets 特定语言的片段
submenus
taskDefinitions
themes 颜色主题
typescriptServerPlugins
views
viewsContainers
viewsWelcome
walkthroughs

作者：执鸢者
链接：https://juejin.cn/post/7010765441144455199
来源：稀土掘金
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。