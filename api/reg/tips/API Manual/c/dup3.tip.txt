☆ API名称
c/dup3

☆ 简介
 #include <unistd.h>
int dup3(int oldfd, int newfd, int flags); // 是GNU的扩展，不一定所以系统都支持
 复制一个文件描述符

dup3()和dup2()相似，不同的地方：
                * 调用者可以通过指定flags为O_CLOEXEC强制置位新文件描述符的 close-on-exec 标志
                * 如果oldfd==newfd，dup3()调用失败，错误是EINVAL
☆ 参数


☆ 返回值
成功，返回新的文件描述符
失败，-1，相应的errno被设置

☆ 错误码
EBADF  oldfd不是一个打开的文件描述符
EBADF  newfd值超过了允许的范围
EBUSY  可能被dup2()和dup3()返回，open()和dup()发生竞争的时候
EINTR  dup2()或者dup3()的调用被SIGNAL中断
EINVAL  (dup3())的flags包含一个无效值
EINVAL  (dup3())oldfd == newfd
EMFILE  打开的文件描述符已经达到了预设定固定值



☆ 示例


☆ 限制说明
 dup3()是在linux2.6.27之后被添加进去了，glibc是在2.9之后添加的。

☆ 安全说明


☆ 更新日志


☆ 支持情况


☆ 联系方式


☆提交日期
2023-08-27 10:43:44
========================================================================
========================================================================
